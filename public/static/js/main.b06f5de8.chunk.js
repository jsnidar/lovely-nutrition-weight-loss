(this["webpackJsonpreact-rails-api-project-template-client"]=this["webpackJsonpreact-rails-api-project-template-client"]||[]).push([[0],{69:function(e,t,n){},70:function(e,t,n){},78:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n(30),r=n(25),s=(n(69),n(2)),l=n(6),i=(n(70),n(87)),o=n(82),j=n(89),h=n(83),u=n(0),d=function(e){var t=e.setCurrentUser,n=e.currentUser;return Object(u.jsx)(i.a,{className:"navigation",bg:"light",expand:"lg",sticky:"top",children:Object(u.jsxs)(o.a,{children:[Object(u.jsx)(i.a.Brand,{href:"/",children:n.name}),Object(u.jsx)(i.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(u.jsx)(i.a.Collapse,{id:"basic-navbar-nav",children:Object(u.jsxs)(j.a,{children:[Object(u.jsx)(j.a.Link,{href:"/",children:"Home"}),Object(u.jsx)(h.a,{variant:"outline-warning",onClick:function(){fetch("/logout",{method:"DELETE"}).then((function(e){e.ok&&t(null)}))},children:"Logout"})]})})]})})},b=n(84),O=n(85),x=n(10),m=n(18),g=n(19),f=n(63),p=(n(77),n(91));g.c.register.apply(g.c,Object(m.a)(g.k));var _=function(e){var t=e.day,n=e.month,c=e.year,r=e.currentUser,s=e.deleteGoal,i=Object(x.f)(),j=Object(a.useState)(null),d=Object(l.a)(j,2),O=(d[0],d[1]),m=r.goals.sort((function(e,a){return new Date(c(e.goal_end_date),n(e.goal_end_date),t(e.goal_end_date))-new Date(c(a.goal_end_date),n(a.goal_end_date),t(a.goal_end_date))}))[r.goals.length-1],g=new Date(c(m.goal_start_date),n(m.goal_start_date),t(m.goal_start_date)),_=new Date(c(m.goal_end_date),n(m.goal_end_date),t(m.goal_end_date)),v=[];r.check_ins.forEach((function(e){var a=new Date(c(e.date),n(e.date),t(e.date));a.valueOf()>=g.valueOf()&&a.valueOf()<=_.valueOf()&&v.push({x:e.date,y:e.weight})}));var C=(v=v.sort((function(e,t){return new Date(e.x.valueOf())-new Date(t.x.valueOf())})).map((function(e){return{x:e.x,y:e.y}}))).length>0?v[0].y:r.check_ins.sort((function(e,a){return new Date(c(e.date),n(e.date),t(e.date)).valueOf()-new Date(c(a.date),n(a.date),t(a.date)).valueOf()}))[r.check_ins.length-1].weight,w={animation:!1,spanGaps:!0,responsive:!0,scales:{y:{title:{display:!0,text:"Weight in lbs"}},x:{adapters:{date:{locale:p.a}},type:"time",distribution:"linear",time:{parser:"yyyy-MM-dd",unit:"month"},title:{display:!0,text:"Date"}}},plugins:{legend:{position:"top"},title:{display:!0,text:m.goal_name}}},y={datasets:[{label:"Check-Ins",data:v,borderColor:"rgb(53, 162, 235)",backgroundColor:"rgba(53, 162, 235, 0.5)",showLine:!0},{label:"Goal",data:[{x:g,y:C},{x:_,y:m.goal_weight}],borderColor:"#FFCE0E",backgroundColor:"#FFCE0E",borderDash:[3]}]};return Object(u.jsxs)(o.a,{className:"border border-secondary",children:[Object(u.jsx)(b.a,{children:Object(u.jsx)(f.a,{options:w,data:y,style:{vh:50},datasetIdKey:"id"})}),Object(u.jsxs)(b.a,{className:"d-flex justify-content-around",children:[Object(u.jsx)(h.a,{className:"w-50 m-2",variant:"warning",onClick:function(){return i("/goals/".concat(m.id,"/edit"))},children:"Edit Current Goal"}),Object(u.jsx)(h.a,{className:"w-50 m-2",variant:"warning",onClick:function(){fetch("/goals/".concat(m.id),{method:"DELETE"}).then((function(e){e.ok?e.json().then((function(){return s(m)})):e.json().then((function(e){return O(e)}))}))},children:"Delete Current Goal"})]})]})},v=n(90),C=n(64),w=function(e){var t=e.goalInfo,n=e.deleteGoal,c=e.checkIns,r=Object(a.useState)(null),s=Object(l.a)(r,2),i=(s[0],s[1]),o=Object(x.f)(),j=function(e){return new Date((t=e,t.slice(0,4)),function(e){return parseInt(e.slice(5,7))-1}(e),function(e){return e.slice(8,10)}(e)).toDateString();var t},d=c.length>0&&c[c.length-1].weight<=t.goal_weight,O=c[c.length-1].weight-t.goal_weight,m=t.goal_start_date,g=t.goal_end_date,f=c[c.length-1];return Object(u.jsx)(v.a,{children:Object(u.jsxs)(v.a.Body,{children:[Object(u.jsxs)(v.a.Title,{children:["Name: ",t.goal_name]}),Object(u.jsxs)(b.a,{children:[Object(u.jsx)(v.a.Subtitle,{className:"mb-2 text-muted",children:"Date Range: "}),Object(u.jsxs)(v.a.Text,{children:[j(m)," to ",j(g)]}),Object(u.jsx)("br",{})]}),Object(u.jsxs)(b.a,{children:[Object(u.jsxs)(C.a,{children:[Object(u.jsx)(v.a.Subtitle,{className:"mb-2 text-muted",children:"Starting weight: "}),Object(u.jsx)(v.a.Text,{children:c.length>0?c[0].weight+" lbs":null})]}),Object(u.jsxs)(C.a,{children:[Object(u.jsx)(v.a.Subtitle,{className:"mb-2 text-muted",children:"Goal weight: "}),Object(u.jsxs)(v.a.Text,{children:[t.goal_weight," lbs."]})]}),Object(u.jsxs)(C.a,{children:[Object(u.jsx)(v.a.Subtitle,{className:"mb-2 text-muted",children:"Final Weight: "}),Object(u.jsx)(v.a.Text,{children:c.length>0?f.weight+" lbs":null})]})]}),Object(u.jsx)(b.a,{children:Object(u.jsx)(v.a.Text,{children:c.length>0?d?"Congratulations you met your goal!":"Only ".concat(O," lbs. to go!"):null})}),Object(u.jsx)(h.a,{variant:"warning",onClick:function(){fetch("/goals/".concat(t.id),{method:"DELETE"}).then((function(e){e.ok?e.json().then((function(){return n(t)})):e.json().then((function(e){return i(e)}))}))},children:"Delete"}),Object(u.jsx)(h.a,{variant:"warning",onClick:function(){return o("/goals/".concat(t.id,"/edit"))},children:"Edit"})]})})},y=function(e){var t=e.month,n=e.day,c=e.year,r=e.currentUser,s=e.deleteGoal,i=Object(a.useState)(!1),j=Object(l.a)(i,2),d=j[0],O=j[1],m=Object(x.f)(),g=r.goals.sort((function(e,t){return new Date(t.date)-new Date(e.date)}));return g=g.map((function(e){var a=new Date(c(e.goal_start_date),t(e.goal_start_date),n(e.goal_start_date)),l=new Date(c(e.goal_end_date),t(e.goal_end_date),n(e.goal_end_date)),i=[];return r.check_ins.forEach((function(e){var r=new Date(c(e.date),t(e.date),n(e.date));r.valueOf()>=a.valueOf()&&r.valueOf()<=l.valueOf()&&i.push(e)})),i=i.sort((function(e,t){return new Date(e.date.valueOf())-new Date(t.date.valueOf())})),Object(u.jsx)(w,{goalInfo:e,deleteGoal:s,checkIns:i},e.id)})),Object(u.jsxs)(o.a,{className:"border-bottom border-secondary",children:[Object(u.jsxs)(b.a,{className:"p-2",children:[Object(u.jsx)("h3",{children:"Goals"}),r.goals.length>0?Object(u.jsx)("h5",{children:"Current Goal"}):null]}),Object(u.jsx)(b.a,{children:r.goals.length>0?Object(u.jsx)(_,{day:n,month:t,year:c,currentUser:r,deleteGoal:s}):null}),Object(u.jsx)(b.a,{className:"pt-2 d-flex justify-content-around",children:Object(u.jsx)(h.a,{className:"w-50 m-2",variant:"warning",onClick:function(){return m("/goals/new")},children:"Create a Goal"})}),Object(u.jsx)(b.a,{className:"d-flex justify-content-around",children:r.goals.length>0?Object(u.jsx)(h.a,{className:"w-50 m-2",variant:"warning",onClick:function(){return O(!d)},children:d?"Hide Goals":"Show Goals"}):null}),Object(u.jsx)(b.a,{className:"p-2 mb-2",children:d?g:null})]})},k=function(e){var t,n=e.day,c=e.month,r=e.year,s=e.checkInInfo,i=e.deleteCheckIn,o=Object(a.useState)(null),j=Object(l.a)(o,2),d=(j[0],j[1]),O=Object(x.f)();return Object(u.jsx)(v.a,{children:Object(u.jsxs)(v.a.Body,{children:[Object(u.jsxs)(v.a.Title,{children:["Date: ",(t=s.date,new Date(r(t),c(t),n(t)).toDateString())]}),Object(u.jsxs)(b.a,{children:[Object(u.jsxs)(C.a,{children:[Object(u.jsx)(v.a.Subtitle,{className:"mb-2 text-muted",children:"Weight"}),Object(u.jsxs)(v.a.Text,{children:[s.weight," lbs."]})]}),Object(u.jsxs)(C.a,{children:[Object(u.jsx)(v.a.Subtitle,{className:"mb-2 text-muted",children:"Measurements"}),s.left_arm_measurement?Object(u.jsxs)(v.a.Text,{children:["Left Arm: ",s.left_arm_measurement," in."]}):null,s.left_thigh_measurement?Object(u.jsxs)(v.a.Text,{children:["Left Thigh: ",s.left_thigh_measurement," in."]}):null,s.waist?Object(u.jsxs)(v.a.Text,{children:["Waist: ",s.waist," in."]}):null,s.hips?Object(u.jsxs)(v.a.Text,{children:["Hips: ",s.hips," in."]}):null,s.chest?Object(u.jsxs)(v.a.Text,{children:["Chest: ",s.chest," in."]}):null,Object(u.jsxs)(v.a.Text,{children:["Notes: ",s.notes]})]})]}),Object(u.jsx)(h.a,{variant:"warning",onClick:function(){fetch("/check_ins/".concat(s.id),{method:"DELETE"}).then((function(e){e.ok?e.json().then((function(){return i(s)})):e.json().then((function(e){return d(e)}))}))},children:"Delete"}),Object(u.jsx)(h.a,{variant:"warning",onClick:function(){return O("/check-ins/".concat(s.id,"/edit"))},children:"Edit"})]})})},N=function(e){var t=e.day,n=e.month,c=e.year,r=e.currentUser,s=e.deleteCheckIn,i=Object(a.useState)(!1),j=Object(l.a)(i,2),d=j[0],O=j[1],m=Object(x.f)(),g=r.check_ins.sort((function(e,t){return new Date(t.date)-new Date(e.date)})).map((function(e){return Object(u.jsx)(k,{checkInInfo:e,deleteCheckIn:s,year:c,month:n,day:t},e.id)}));return Object(u.jsxs)(o.a,{className:"pt-2",children:[Object(u.jsx)(b.a,{children:Object(u.jsx)("h3",{children:"Check Ins"})}),Object(u.jsx)(b.a,{className:"d-flex justify-content-around",children:r.check_ins.length>0?Object(u.jsx)(h.a,{className:"w-50 m-2",variant:"warning",onClick:function(){return O(!d)},children:d?"Hide Check Ins":"Show Check Ins"}):null}),Object(u.jsx)(b.a,{children:d?g:null}),Object(u.jsx)(b.a,{className:"d-flex justify-content-around",children:Object(u.jsx)(h.a,{className:"w-50 m-2",variant:"warning",onClick:function(){return m("/check-ins/new")},children:"Create a Check In"})})]})},I=function(e){var t=e.day,n=e.month,a=e.year,c=e.currentUser,r=e.deleteCheckIn,s=e.deleteGoal;return Object(u.jsxs)(o.a,{className:"m-2 p-2",children:[Object(u.jsxs)(b.a,{className:"p-2",children:[Object(u.jsx)(O.a,{src:"/lovely_logo.png"}),Object(u.jsx)("h1",{children:"Weight Loss Tracker"})]}),Object(u.jsx)(y,{year:a,month:n,day:t,currentUser:c,deleteGoal:s}),Object(u.jsx)(N,{year:a,month:n,day:t,currentUser:c,deleteCheckIn:r})]})},S=n(88),G=n(86),D=function(e){var t=e.errors.map((function(e,t){return Object(u.jsx)("li",{children:e},t)}));return Object(u.jsx)(G.a,{variant:"danger",children:Object(u.jsx)("ul",{children:t})})},L=function(e){var t=e.setCurrentUser,n=Object(x.f)(),c=Object(a.useState)(null),r=Object(l.a)(c,2),i=r[0],j=r[1],d=Object(a.useState)({password:"",username:""}),O=Object(l.a)(d,2),m=O[0],g=O[1];return Object(u.jsxs)(o.a,{children:[Object(u.jsx)("br",{}),Object(u.jsxs)(S.a,{children:[Object(u.jsxs)(b.a,{children:[Object(u.jsx)("h1",{children:"Sign In"}),i?Object(u.jsx)(D,{errors:i.errors}):null]}),Object(u.jsxs)(b.a,{children:[Object(u.jsx)(C.a,{children:Object(u.jsxs)(S.a.Group,{className:"mb-3",controlId:"username",children:[Object(u.jsx)(S.a.Label,{children:"Username"}),Object(u.jsx)(S.a.Control,{type:"text",placeholder:"",value:m.username,onChange:function(e){return g(Object(s.a)(Object(s.a)({},m),{},{username:e.target.value}))}})]})}),Object(u.jsx)(C.a,{children:Object(u.jsxs)(S.a.Group,{className:"mb-3",controlId:"password",children:[Object(u.jsx)(S.a.Label,{children:"Password"}),Object(u.jsx)(S.a.Control,{type:"password",placeholder:"Create a password",value:m.password,onChange:function(e){return g(Object(s.a)(Object(s.a)({},m),{},{password:e.target.value}))}})]})})]}),Object(u.jsx)(h.a,{variant:"warning",type:"submit",onClick:function(e){return function(e){e.preventDefault(),j(null),fetch("/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)}).then((function(e){e.ok?e.json().then((function(e){return t(e)})).then(n("/")):e.json().then((function(e){return j(e)}))}))}(e)},children:"Submit"})]})]})},E=function(e){var t=e.setCurrentUser,n=Object(a.useState)(null),c=Object(l.a)(n,2),r=c[0],i=c[1],j=Object(a.useState)({first_name:"",last_name:"",height_feet:0,height_inches:0,email:"",email_confirmation:"",password:"",password_confirmation:"",username:""}),d=Object(l.a)(j,2),O=d[0],m=d[1],g=Object(x.f)();return Object(u.jsx)("div",{children:Object(u.jsxs)(o.a,{children:[Object(u.jsx)("br",{}),Object(u.jsxs)(S.a,{children:[Object(u.jsxs)(b.a,{children:[Object(u.jsx)("h1",{children:"Sign Up"}),r?Object(u.jsx)(D,{errors:r.errors}):null]}),Object(u.jsxs)(b.a,{children:[Object(u.jsx)(C.a,{children:Object(u.jsxs)(S.a.Group,{className:"mb-3",controlId:"firstName",children:[Object(u.jsx)(S.a.Label,{children:"First Name"}),Object(u.jsx)(S.a.Control,{type:"text",placeholder:"",value:O.first_name,onChange:function(e){return m(Object(s.a)(Object(s.a)({},O),{},{first_name:e.target.value}))}})]})}),Object(u.jsx)(C.a,{children:Object(u.jsxs)(S.a.Group,{className:"mb-3",controlId:"lastName",children:[Object(u.jsx)(S.a.Label,{children:"Last Name"}),Object(u.jsx)(S.a.Control,{type:"text",placeholder:"",value:O.last_name,onChange:function(e){return m(Object(s.a)(Object(s.a)({},O),{},{last_name:e.target.value}))}})]})}),Object(u.jsx)(C.a,{children:Object(u.jsxs)(S.a.Group,{className:"mb-3",controlId:"username",children:[Object(u.jsx)(S.a.Label,{children:"Username"}),Object(u.jsx)(S.a.Control,{type:"text",placeholder:"",value:O.username,onChange:function(e){return m(Object(s.a)(Object(s.a)({},O),{},{username:e.target.value}))}})]})})]}),Object(u.jsx)(S.a.Label,{children:"Height"}),Object(u.jsxs)(b.a,{children:[Object(u.jsx)(C.a,{children:Object(u.jsxs)(S.a.Group,{className:"mb-3",controlId:"heightFeet",children:[Object(u.jsx)(S.a.Label,{children:"Feet"}),Object(u.jsx)(S.a.Control,{type:"number",placeholder:"Enter feet",value:O.height_feet,onChange:function(e){return m(Object(s.a)(Object(s.a)({},O),{},{height_feet:e.target.value}))}})]})}),Object(u.jsx)(C.a,{children:Object(u.jsxs)(S.a.Group,{className:"mb-3",controlId:"heightInches",children:[Object(u.jsx)(S.a.Label,{children:"Inches"}),Object(u.jsx)(S.a.Control,{type:"number",placeholder:"Enter inches",value:O.height_inches,onChange:function(e){return m(Object(s.a)(Object(s.a)({},O),{},{height_inches:e.target.value}))}})]})})]}),Object(u.jsxs)(b.a,{children:[Object(u.jsx)(C.a,{children:Object(u.jsxs)(S.a.Group,{className:"mb-3",controlId:"email",children:[Object(u.jsx)(S.a.Label,{children:"Enter Email Address"}),Object(u.jsx)(S.a.Control,{type:"email",placeholder:"name@example.com",value:O.email,onChange:function(e){return m(Object(s.a)(Object(s.a)({},O),{},{email:e.target.value}))}})]})}),Object(u.jsx)(C.a,{children:Object(u.jsxs)(S.a.Group,{className:"mb-3",controlId:"emailConfirmation",children:[Object(u.jsx)(S.a.Label,{children:"Confirm Email Address"}),Object(u.jsx)(S.a.Control,{type:"email",placeholder:"name@example.com",value:O.email_confirmation,onChange:function(e){return m(Object(s.a)(Object(s.a)({},O),{},{email_confirmation:e.target.value}))}})]})})]}),Object(u.jsxs)(b.a,{children:[Object(u.jsx)(C.a,{children:Object(u.jsxs)(S.a.Group,{className:"mb-3",controlId:"password",children:[Object(u.jsx)(S.a.Label,{children:"Create Password"}),Object(u.jsx)(S.a.Control,{type:"password",placeholder:"Create a password",value:O.password,onChange:function(e){return m(Object(s.a)(Object(s.a)({},O),{},{password:e.target.value}))}})]})}),Object(u.jsx)(C.a,{children:Object(u.jsxs)(S.a.Group,{className:"mb-3",controlId:"passwordConfirmation",children:[Object(u.jsx)(S.a.Label,{children:"Confirm Password"}),Object(u.jsx)(S.a.Control,{type:"password",placeholder:"Confirm your password",value:O.password_confirmation,onChange:function(e){return m(Object(s.a)(Object(s.a)({},O),{},{password_confirmation:e.target.value}))}})]})})]}),Object(u.jsx)(h.a,{variant:"warning",type:"submit",onClick:function(e){return function(e){e.preventDefault(),i(null);var n={name:"".concat(O.first_name," ").concat(O.last_name),height:parseInt(12*O.height_feet)+parseInt(O.height_inches),email:O.email,email_confirmation:O.email_confirmation,password:O.password,password_confirmation:O.password_confirmation,username:O.username};fetch("/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){e.ok?e.json().then((function(e){return t(e)})).then(g("/")):e.json().then((function(e){return i(e)}))}))}(e)},children:"Submit"})]})]})})},T=function(e){var t=e.setCurrentUser,n=Object(a.useState)(!0),c=Object(l.a)(n,2),r=c[0],s=c[1];return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)(o.a,{children:[Object(u.jsx)(O.a,{src:"JacquelynKPhotography_LovelyNutritionLogo_BLACK.png",fluid:!0}),r?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(L,{setCurrentUser:t}),Object(u.jsx)("br",{}),Object(u.jsxs)("p",{children:["Don't have an account? ",Object(u.jsx)(h.a,{variant:"link",onClick:function(){return s(!1)},children:"Sign Up Now"})]})]}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(E,{setCurrentUser:t}),Object(u.jsx)("br",{}),Object(u.jsxs)("p",{children:["Already have an account? ",Object(u.jsx)(h.a,{variant:"link",onClick:function(){return s(!0)},children:"Sign In Now"})]})]})]})})},U=function(e){var t=e.updateCheckIns,n=Object(x.g)().checkInId,c=Object(x.f)(),r=Object(a.useState)(null),i=Object(l.a)(r,2),j=i[0],d=i[1],O=Object(a.useState)({date:"",weight:"",left_arm_measurement:"",left_thigh_measurement:"",waist:"",chest:"",hips:"",notes:"",id:null}),m=Object(l.a)(O,2),g=m[0],f=m[1];Object(a.useEffect)((function(){n&&fetch("/check_ins/".concat(n)).then((function(e){return e.json()})).then((function(e){var t={date:"",weight:"",left_arm_measurement:"",left_thigh_measurement:"",waist:"",chest:"",hips:"",notes:"",id:null};for(var n in e)null!==e[n]&&(t[n]=e[n]);f(t)}))}),[n]);for(var p=[],_=0;_<85;)p.push(_),_+=.25;var v=p.map((function(e){return Object(u.jsx)("option",{value:e,children:e},e)})),w=function(e){e.preventDefault(),d(null),n?fetch("/check_ins/".concat(n),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(g)}).then((function(e){e.ok?e.json().then((function(e){return t(e,n)})).then(c("/")):e.json().then((function(e){return d(e)}))})):fetch("/check_ins",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(g)}).then((function(e){e.ok?e.json().then((function(e){return t(e)})).then(c("/")):e.json().then((function(e){return d(e)}))}))};return Object(u.jsxs)(o.a,{children:[Object(u.jsx)("br",{}),Object(u.jsxs)(S.a,{children:[Object(u.jsxs)(b.a,{children:[n?Object(u.jsx)("h1",{children:"Edit Check In"}):Object(u.jsx)("h1",{children:"Create a New Check In"}),j?Object(u.jsx)(D,{errors:j.errors}):null]}),Object(u.jsx)(b.a,{children:Object(u.jsxs)(S.a.Group,{className:"mb-3",controlId:"date",children:[Object(u.jsx)(S.a.Label,{children:"Date"}),Object(u.jsx)(S.a.Control,{type:"date",placeholder:"Enter measurement in inches",value:g.date,onChange:function(e){return f(Object(s.a)(Object(s.a)({},g),{},{date:e.target.value}))}})]})}),Object(u.jsxs)(b.a,{children:[Object(u.jsx)(C.a,{children:Object(u.jsxs)(S.a.Group,{className:"mb-3",controlId:"weight",children:[Object(u.jsx)(S.a.Label,{children:"Weight (lbs)"}),Object(u.jsx)(S.a.Control,{type:"number",placeholder:"Enter weight (lbs)",value:g.weight,onChange:function(e){return f(Object(s.a)(Object(s.a)({},g),{},{weight:parseInt(e.target.value)}))}})]})}),Object(u.jsx)(C.a,{children:Object(u.jsxs)(S.a.Group,{className:"mb-3",controlId:"left_arm_measurement",children:[Object(u.jsx)(S.a.Label,{children:"Left Arm (in) "}),Object(u.jsxs)(S.a.Select,{value:g.left_arm_measurement,onChange:function(e){return f(Object(s.a)(Object(s.a)({},g),{},{left_arm_measurement:parseFloat(e.target.value)}))},"aria-label":"Select a measurement",children:[Object(u.jsx)("option",{children:"Select a measurement"}),v]})]})}),Object(u.jsx)(C.a,{children:Object(u.jsxs)(S.a.Group,{className:"mb-3",controlId:"left_thigh_measurement",children:[Object(u.jsx)(S.a.Label,{children:"Left Thigh (in)"}),Object(u.jsxs)(S.a.Select,{value:g.left_thigh_measurement,onChange:function(e){return f(Object(s.a)(Object(s.a)({},g),{},{left_thigh_measurement:parseFloat(e.target.value)}))},"aria-label":"Select a measurement",children:[Object(u.jsx)("option",{children:"Select a measurement"}),v]})]})})]}),Object(u.jsxs)(b.a,{children:[Object(u.jsx)(C.a,{children:Object(u.jsxs)(S.a.Group,{className:"mb-3",controlId:"waist",children:[Object(u.jsx)(S.a.Label,{children:"Waist (in)"}),Object(u.jsxs)(S.a.Select,{value:g.waist,onChange:function(e){return f(Object(s.a)(Object(s.a)({},g),{},{waist:parseFloat(e.target.value)}))},"aria-label":"Select a measurement",children:[Object(u.jsx)("option",{children:"Select a measurement"}),v]})]})}),Object(u.jsx)(C.a,{children:Object(u.jsxs)(S.a.Group,{className:"mb-3",controlId:"hips",children:[Object(u.jsx)(S.a.Label,{children:"Hips (in)"}),Object(u.jsxs)(S.a.Select,{value:g.hips,onChange:function(e){return f(Object(s.a)(Object(s.a)({},g),{},{hips:parseFloat(e.target.value)}))},"aria-label":"Select a measurement",children:[Object(u.jsx)("option",{children:"Select a measurement"}),v]})]})}),Object(u.jsx)(C.a,{children:Object(u.jsxs)(S.a.Group,{className:"mb-3",controlId:"chest",children:[Object(u.jsx)(S.a.Label,{children:"Chest (in)"}),Object(u.jsxs)(S.a.Select,{value:g.chest,onChange:function(e){return f(Object(s.a)(Object(s.a)({},g),{},{chest:parseFloat(e.target.value)}))},"aria-label":"Select a measurement",children:[Object(u.jsx)("option",{children:"Select a measurement"}),v]})]})})]}),Object(u.jsx)(b.a,{children:Object(u.jsxs)(S.a.Group,{className:"mb-3",controlId:"notes",children:[Object(u.jsx)(S.a.Label,{children:"Notes"}),Object(u.jsx)(S.a.Control,{type:"text",placeholder:"Enter notes here",value:g.notes,onChange:function(e){return f(Object(s.a)(Object(s.a)({},g),{},{notes:e.target.value}))}})]})}),Object(u.jsxs)(b.a,{className:"d-flex justify-content-around",children:[Object(u.jsx)(h.a,{className:"w-50 m-2",variant:"warning",type:"submit",onClick:function(e){return w(e)},children:"Submit"}),Object(u.jsx)(h.a,{className:"w-50 m-2",variant:"warning",onClick:function(e){return c("/")},children:"Cancel"})]})]})]})},F=function(e){var t=e.currentUser,n=e.updateGoals,c=Object(x.g)().goalId,r=Object(x.f)(),i=Object(a.useState)(null),j=Object(l.a)(i,2),d=j[0],m=j[1],g=Object(a.useState)({goal_name:"",goal_start_date:"",goal_weight:"",goal_end_date:"",goal_met:"",id:null}),f=Object(l.a)(g,2),p=f[0],_=f[1];Object(a.useEffect)((function(){c&&fetch("/goals/".concat(c)).then((function(e){return e.json()})).then((function(e){return _(e)}))}),[c]);var v=function(e){e.preventDefault(),m(null),c?fetch("/goals/".concat(c),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(p)}).then((function(e){e.ok?e.json().then((function(e){return n(e,c)})):e.json().then((function(e){return m(e)}))})):fetch("/goals",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(p)}).then((function(e){e.ok?e.json().then((function(e){return n(e)})).then(r("/")):e.json().then((function(e){return m(e)}))}))},w=t.check_ins.sort((function(e,t){return new Date(e.date)-new Date(t.date)}))[t.check_ins.length-1].weight;return Object(u.jsxs)(o.a,{children:[Object(u.jsx)(O.a,{src:"/lovely_logo.png"}),Object(u.jsxs)(S.a,{children:[Object(u.jsxs)(b.a,{children:[c?Object(u.jsx)("h1",{children:"Edit Goal"}):Object(u.jsx)("h1",{children:"Create a Goal"}),d?Object(u.jsx)(D,{errors:d.errors}):null]}),Object(u.jsx)(b.a,{children:Object(u.jsxs)(S.a.Group,{className:"mb-3",controlId:"goalName",children:[Object(u.jsx)(S.a.Label,{children:"Goal Name"}),Object(u.jsx)(S.a.Control,{type:"text",placeholder:"Enter a name for your goal here",value:p.goal_name,onChange:function(e){return _(Object(s.a)(Object(s.a)({},p),{},{goal_name:e.target.value}))}}),Object(u.jsx)(S.a.Text,{className:"text-muted",children:"Examples: Fall 2022, my last 10 pounds!, my goal weight..."})]})}),Object(u.jsxs)(b.a,{children:[Object(u.jsx)(C.a,{children:Object(u.jsxs)(S.a.Group,{className:"mb-3",controlId:"startDate",children:[Object(u.jsx)(S.a.Label,{children:"Start Date"}),Object(u.jsx)(S.a.Control,{type:"date",placeholder:"Select a start date",value:p.goal_start_date,onChange:function(e){return _(Object(s.a)(Object(s.a)({},p),{},{goal_start_date:e.target.value}))}})]})}),Object(u.jsx)(C.a,{children:Object(u.jsxs)(S.a.Group,{className:"mb-3",controlId:"endDate",children:[Object(u.jsx)(S.a.Label,{children:"End Date"}),Object(u.jsx)(S.a.Control,{type:"date",placeholder:"Select an end date",value:p.goal_end_date,onChange:function(e){return _(Object(s.a)(Object(s.a)({},p),{},{goal_end_date:e.target.value}))}})]})})]}),Object(u.jsx)(b.a,{children:Object(u.jsxs)(C.a,{children:["Current Weight: ",w,Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),"Current BMI: ",parseInt(w/(t.height*t.height)*703),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsxs)(S.a.Group,{className:"mb-3",controlId:"weight",children:[Object(u.jsx)(S.a.Label,{children:"Goal Weight (lbs)"}),Object(u.jsx)(S.a.Control,{type:"number",placeholder:"Enter weight (lbs)",value:p.goal_weight,onChange:function(e){return _(Object(s.a)(Object(s.a)({},p),{},{goal_weight:parseInt(e.target.value)}))}})]}),"Goal BMI: ","number"===typeof p.goal_weight?parseInt(p.goal_weight/(t.height*t.height)*703):"",Object(u.jsx)("br",{}),Object(u.jsx)("br",{})]})}),Object(u.jsxs)(b.a,{className:"d-flex justify-content-around",children:[Object(u.jsx)(h.a,{className:"w-50 m-2",variant:"warning",type:"submit",onClick:function(e){return v(e)},children:"Submit"}),Object(u.jsx)(h.a,{className:"w-50 m-2",variant:"warning",onClick:function(e){return r("/")},children:"Cancel"})]})]})]})};var P=function(){var e=Object(a.useState)(null),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(x.f)();if(Object(a.useEffect)((function(){fetch("/me").then((function(e){e.ok&&e.json().then((function(e){return c(e)}))}))}),[]),!n)return Object(u.jsx)(T,{setCurrentUser:c});var i=function(e,t){var a=Object(s.a)({},n);t?a.goals=a.goals.map((function(n){return parseInt(n.id)===parseInt(t,10)?e:n})):a.goals.push(e),c(a),r("/")},o=function(e,t){var a=Object(s.a)({},n);t?a.check_ins=a.check_ins.map((function(n){return n.id===parseInt(t)?e:n})):a.check_ins.push(e),c(a),r("/")};return Object(u.jsxs)("div",{children:[Object(u.jsx)(d,{currentUser:n,setCurrentUser:c}),Object(u.jsxs)(x.c,{children:[Object(u.jsx)(x.a,{path:"/",element:Object(u.jsx)(I,{deleteCheckIn:function(e){var t=Object(s.a)({},n);t.check_ins=n.check_ins.filter((function(t){return t.id!==e.id})),c(t)},deleteGoal:function(e){var t=Object(s.a)({},n);t.goals=n.goals.filter((function(t){return t.id!==e.id})),c(t)},currentUser:n,year:function(e){return e.slice(0,4)},month:function(e){return parseInt(e.slice(5,7))-1},day:function(e){return e.slice(8,10)}})}),Object(u.jsx)(x.a,{path:"/check-ins/new",element:Object(u.jsx)(U,{updateCheckIns:o})}),Object(u.jsx)(x.a,{path:"/check-ins/:checkInId/edit",element:Object(u.jsx)(U,{updateCheckIns:o})}),Object(u.jsx)(x.a,{path:"/goals/:goalId/edit",element:Object(u.jsx)(F,{currentUser:n,updateGoals:i})}),Object(u.jsx)(x.a,{path:"/goals/new",element:Object(u.jsx)(F,{currentUser:n,updateGoals:i})})]})]})},J=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,92)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))};Object(c.render)(Object(u.jsx)(r.a,{children:Object(u.jsx)(P,{})}),document.getElementById("root")),J()}},[[78,1,2]]]);
//# sourceMappingURL=main.b06f5de8.chunk.js.map